<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sunrise Sports Meet Registration</title>

<!-- Tailwind (keep original UI exactly) -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

<!-- html2pdf -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
/* Keep your original GitHub UI styles */
body { background-color: #f8f9fa; font-family: 'Inter', sans-serif; }
.container { max-width: 800px; margin: 40px auto; padding: 25px; background-color: #fff; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
h1 { font-size: 1.8rem; font-weight: bold; margin-bottom: 1rem; }
label { font-weight: 600; margin-top: 0.5rem; display: block; }
input, select { width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 6px; margin-bottom: 1rem; }
button { background-color: #2563eb; color: white; padding: 0.6rem 1.2rem; border-radius: 6px; font-weight: 600; cursor: pointer; margin-right: 10px; }
button:hover { background-color: #1d4ed8; }
</style>
</head>
<body>
<div class="container" id="registrationForm">
  <h1>Sunrise Sports Meet Registration</h1>
  
  <label for="name">Name:</label>
  <input type="text" id="name" placeholder="Enter student name">
  
  <label for="category">Category:</label>
  <select id="category">
    <option value="Under 14">Under 14</option>
    <option value="Under 16">Under 16</option>
    <option value="Under 18">Under 18</option>
  </select>
  
  <label>Events:</label>
  <div class="mb-4">
    <input type="checkbox" name="events" value="100m Sprint"> 100m Sprint<br>
    <input type="checkbox" name="events" value="200m Sprint"> 200m Sprint<br>
    <input type="checkbox" name="events" value="Long Jump"> Long Jump<br>
    <input type="checkbox" name="events" value="High Jump"> High Jump
  </div>
  
  <button onclick="submitRegistration()">Submit Registration</button>
  <button id="downloadBtn">Download PDF</button>
</div>

<script>
// Firebase config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "YOUR_MESSAGING_ID",
  appId: "YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Submit Registration
function submitRegistration() {
  const name = document.getElementById('name').value;
  const category = document.getElementById('category').value;
  const events = Array.from(document.querySelectorAll('input[name="events"]:checked')).map(e => e.value);

  if (!name || events.length === 0) {
    alert("Please fill all fields and select at least one event.");
    return;
  }

  db.collection('registrations').add({
    name,
    category,
    events,
    timestamp: firebase.firestore.FieldValue.serverTimestamp()
  })
  .then(() => alert("Registration successful!"))
  .catch(err => console.error("Error saving registration:", err));
}

// Download single-page PDF
document.getElementById('downloadBtn').addEventListener('click', () => {
  const element = document.getElementById('registrationForm');
  const opt = {
    margin: 0.1,
    filename: 'Registration.pdf',
    image: { type: 'jpeg', quality: 0.98 },
    html2canvas: { scale: 2 },
    jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
  };
  html2pdf().set(opt).from(element).save();
});
</script>
</body>
</html>
